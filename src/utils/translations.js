// Traducciones para la aplicación
export const translations = {
    es: {
        headerTitle: "Nos encargamos de tu invitación",
        heroTitle: "Save The Date",
        heroSubtitle: "Creamos invitaciones digitales únicas para bodas, quinceañeras, fiestas y eventos especiales",
        portfolioBtn: "Ver Portafolio",
        quoteBtn: "Solicitar Cotización",
        whyDigitalTitle: "¿Por qué elegir invitaciones digitales?",
        whyDigitalText1: "Las invitaciones digitales son la forma moderna, elegante y ecológica de invitar a tus seres queridos a eventos especiales. Personalizamos cada diseño según tu estilo y temática.",
        whyDigitalText2: "Ofrecemos diseños únicos, animaciones personalizadas y la posibilidad de incluir música, videos y confirmación de asistencia en tiempo real.",
        specializedTitle: "Especializados en eventos:",
        wedding: "Bodas y Matrimonios",
        sweet15: "Quinceañeras",
        birthday: "Fiestas de Cumpleaños",
        corporate: "Eventos Corporativos",
        servicesTitle: "Nuestros Servicios",
        servicesSubtitle: "Ofrecemos servicios completos de diseño de invitaciones digitales para hacer tu evento memorable",
        servicesText: "Celebridades, influencers y organizadores de eventos confían en nuestros diseños para crear invitaciones memorables y únicas.",
        weddingInvTitle: "Invitaciones de Boda",
        weddingInvText: "Diseños elegantes y románticos para el día más especial. Incluimos animaciones, música y confirmación de asistencia digital.",
        viewExamples: "Ver ejemplos →",
        sweet15InvTitle: "Quinceañeras",
        sweet15InvText: "Celebra los 15 años con invitaciones mágicas y llenas de color. Diseños únicos que reflejan la personalidad de la quinceañera.",
        benefitsTitle: "Beneficios de las Invitaciones Digitales",
        benefitsSubtitle: "Descubre por qué las invitaciones digitales son la mejor opción para tus eventos especiales",
        ecofriendlyTitle: "Ecológico y Sostenible",
        ecofriendlyText: "Sin papel, sin desperdicio. Contribuye al cuidado del medio ambiente con invitaciones 100% digitales.",
        instantDeliveryTitle: "Entrega Instantánea",
        instantDeliveryText: "Envía tus invitaciones al instante por WhatsApp, email o redes sociales. Sin esperas ni retrasos.",
        newsTitle: "Novedades",
        newsSubtitle: "Últimas tendencias y consejos - Mantente al día con las mejores prácticas en diseño de invitaciones digitales",
        article1Title: "¿Cómo elegir el diseño perfecto?",
        article1Text: "El 85% de los invitados forman su primera impresión del evento a través de la invitación. Descubre cómo crear diseños que reflejen la personalidad de tu celebración.",
        recentArticle: "Artículo reciente",
        readMore: "Leer más →",
        article2Title: "Tendencias en invitaciones 2024",
        article2Text: "Descubre las últimas tendencias en invitaciones digitales para 2024. Desde elementos interactivos hasta experiencias personalizadas, mantente a la vanguardia con diseños innovadores."
    },
    en: {
        headerTitle: "We take care of your invitation",
        heroTitle: "Save The Date",
        heroSubtitle: "We create unique digital invitations for weddings, sweet fifteens, parties and special events",
        portfolioBtn: "View Portfolio",
        quoteBtn: "Request Quote",
        whyDigitalTitle: "Why choose digital invitations?",
        whyDigitalText1: "Digital invitations are the modern, elegant and eco-friendly way to invite your loved ones to special events. We customize each design according to your style and theme.",
        whyDigitalText2: "We offer unique designs, custom animations and the ability to include music, videos and real-time attendance confirmation.",
        specializedTitle: "Specialized in events:",
        wedding: "Weddings and Marriages",
        sweet15: "Sweet Fifteens",
        birthday: "Birthday Parties",
        corporate: "Corporate Events",
        servicesTitle: "Our Services",
        servicesSubtitle: "We offer complete digital invitation design services to make your event memorable",
        servicesText: "Celebrities, influencers and event organizers trust our designs to create memorable and unique invitations.",
        weddingInvTitle: "Wedding Invitations",
        weddingInvText: "Elegant and romantic designs for the most special day. We include animations, music and digital attendance confirmation.",
        viewExamples: "View examples →",
        sweet15InvTitle: "Sweet Fifteens",
        sweet15InvText: "Celebrate the 15th birthday with magical and colorful invitations. Unique designs that reflect the personality of the birthday girl.",
        benefitsTitle: "Benefits of Digital Invitations",
        benefitsSubtitle: "Discover why digital invitations are the best option for your special events",
        ecofriendlyTitle: "Eco-friendly and Sustainable",
        ecofriendlyText: "No paper, no waste. Contribute to caring for the environment with 100% digital invitations.",
        instantDeliveryTitle: "Instant Delivery",
        instantDeliveryText: "Send your invitations instantly via WhatsApp, email or social media. No waiting or delays.",
        newsTitle: "News",
        newsSubtitle: "Latest trends and tips - Stay up to date with best practices in digital invitation design",
        article1Title: "How to choose the perfect design?",
        article1Text: "85% of guests form their first impression of the event through the invitation. Discover how to create designs that reflect the personality of your celebration.",
        recentArticle: "Recent article",
        readMore: "Read more →",
        article2Title: "Invitation trends 2024",
        article2Text: "Discover the latest trends in digital invitations for 2024. From interactive elements to personalized experiences, stay ahead with innovative designs."
    },
    pt: {
        headerTitle: "Cuidamos do seu convite",
        heroTitle: "Save The Date",
        heroSubtitle: "Criamos convites digitais únicos para casamentos, festas de quinze anos, aniversários e eventos especiais",
        portfolioBtn: "Ver Portfólio",
        quoteBtn: "Solicitar Orçamento",
        whyDigitalTitle: "Por que escolher convites digitais?",
        whyDigitalText1: "Os convites digitais são a forma moderna, elegante e ecológica de convidar seus entes queridos para eventos especiais. Personalizamos cada design de acordo com seu estilo e tema.",
        whyDigitalText2: "Oferecemos designs únicos, animações personalizadas e a possibilidade de incluir música, vídeos e confirmação de presença em tempo real.",
        specializedTitle: "Especializados em eventos:",
        wedding: "Casamentos e Matrimônios",
        sweet15: "Festas de Quinze Anos",
        birthday: "Festas de Aniversário",
        corporate: "Eventos Corporativos",
        servicesTitle: "Nossos Serviços",
        servicesSubtitle: "Oferecemos serviços completos de design de convites digitais para tornar seu evento memorável",
        servicesText: "Celebridades, influenciadores e organizadores de eventos confiam em nossos designs para criar convites memoráveis e únicos.",
        weddingInvTitle: "Convites de Casamento",
        weddingInvText: "Designs elegantes e românticos para o dia mais especial. Incluímos animações, música e confirmação de presença digital.",
        viewExamples: "Ver exemplos →",
        sweet15InvTitle: "Festas de Quinze Anos",
        sweet15InvText: "Celebre os 15 anos com convites mágicos e cheios de cor. Designs únicos que refletem a personalidade da aniversariante.",
        benefitsTitle: "Benefícios dos Convites Digitais",
        benefitsSubtitle: "Descubra por que os convites digitais são a melhor opção para seus eventos especiais",
        ecofriendlyTitle: "Ecológico e Sustentável",
        ecofriendlyText: "Sem papel, sem desperdício. Contribua para o cuidado com o meio ambiente com convites 100% digitais.",
        instantDeliveryTitle: "Entrega Instantânea",
        instantDeliveryText: "Envie seus convites instantaneamente via WhatsApp, email ou redes sociais. Sem esperas ou atrasos.",
        newsTitle: "Novidades",
        newsSubtitle: "Últimas tendências e dicas - Mantenha-se atualizado com as melhores práticas em design de convites digitais",
        article1Title: "Como escolher o design perfeito?",
        article1Text: "85% dos convidados formam sua primeira impressão do evento através do convite. Descubra como criar designs que refletem a personalidade da sua celebração.",
        recentArticle: "Artigo recente",
        readMore: "Ler mais →",
        article2Title: "Tendências em convites 2024",
        article2Text: "Descubra as últimas tendências em convites digitais para 2024. De elementos interativos a experiências personalizadas, mantenha-se à frente com designs inovadores."
    }
};

// Función para actualizar textos preservando elementos HTML como spans
function updateTextPreservingHTML(selector, newText) {
    const elements = document.querySelectorAll(selector);
    elements.forEach(element => {
        if (element) {
            // Para elementos li, preservar los spans y solo actualizar el texto
            if (element.tagName === 'LI') {
                const span = element.querySelector('span');
                if (span) {
                    // Mantener el span y actualizar solo el texto
                    element.innerHTML = '';
                    element.appendChild(span);
                    element.appendChild(document.createTextNode(newText));
                } else {
                    element.textContent = newText;
                }
            } else {
                element.textContent = newText;
            }
        }
    });
}

// Función principal para actualizar textos según el idioma
export function updateTexts(lang) {
    // Actualizar el título del encabezado
    const headerTitle = document.querySelector('#header-title');
    if (headerTitle) headerTitle.textContent = translations[lang].headerTitle;
    
    // Actualizar otros textos en la página usando la función que preserva HTML
    const elements = {
        // Hero section
        '.text-purple-800': translations[lang].heroTitle,
        '#hero .text-xl.md\\:text-2xl': translations[lang].heroSubtitle,
        '#hero .bg-purple-600': translations[lang].portfolioBtn,
        '#hero .border-2.border-purple-600': translations[lang].quoteBtn,
        '#hero h2.text-3xl': translations[lang].whyDigitalTitle,
        '#hero p.text-gray-600:nth-of-type(1)': translations[lang].whyDigitalText1,
        '#hero p.text-gray-600:nth-of-type(2)': translations[lang].whyDigitalText2,
        '#hero h3.text-xl': translations[lang].specializedTitle,
        
        // Services section
        '#services h2.text-3xl': translations[lang].servicesTitle,
        '#services p.text-xl:nth-of-type(1)': translations[lang].servicesSubtitle,
        '#services p.text-xl:nth-of-type(2)': translations[lang].servicesText,
        '#services h3.text-xl:nth-of-type(1)': translations[lang].weddingInvTitle,
        '#services .max-w-sm:nth-of-type(1) p': translations[lang].weddingInvText,
        '#services .max-w-sm:nth-of-type(1) button': translations[lang].viewExamples,
        '#services h3.text-xl:nth-of-type(2)': translations[lang].sweet15InvTitle,
        '#services .max-w-sm:nth-of-type(2) p': translations[lang].sweet15InvText,
        '#services .max-w-sm:nth-of-type(2) button': translations[lang].viewExamples,
        
        // Benefits section
        '#benefits h2.text-3xl': translations[lang].benefitsTitle,
        '#benefits p.text-xl': translations[lang].benefitsSubtitle,
        '#benefits h3.text-lg:nth-of-type(1)': translations[lang].ecofriendlyTitle,
        '#benefits .bg-white:nth-of-type(1) p': translations[lang].ecofriendlyText,
        '#benefits h3.text-lg:nth-of-type(2)': translations[lang].instantDeliveryTitle,
        '#benefits .bg-white:nth-of-type(2) p': translations[lang].instantDeliveryText,
        
        // News section
        '#news h2.text-3xl': translations[lang].newsTitle,
        '#news p.text-xl': translations[lang].newsSubtitle,
        '#news h3.text-xl:nth-of-type(1)': translations[lang].article1Title,
        '#news article:nth-of-type(1) p.text-gray-600': translations[lang].article1Text,
        '#news article:nth-of-type(1) span.text-xs': translations[lang].recentArticle,
        '#news article:nth-of-type(1) button': translations[lang].readMore,
        '#news h3.text-xl:nth-of-type(2)': translations[lang].article2Title,
        '#news article:nth-of-type(2) p.text-gray-600': translations[lang].article2Text,
        '#news article:nth-of-type(2) span.text-xs': translations[lang].recentArticle,
        '#news article:nth-of-type(2) button': translations[lang].readMore
    };
    
    // Actualizar elementos regulares
    for (const [selector, text] of Object.entries(elements)) {
        try {
            const elements = document.querySelectorAll(selector);
            if (elements.length === 0) {
                console.warn(`No se encontraron elementos para el selector: ${selector}`);
            }
            elements.forEach(element => {
                if (element) element.textContent = text;
            });
        } catch (error) {
            console.error(`Error al actualizar el selector ${selector}:`, error);
        }
    }
    
    // Actualizar elementos li preservando los spans (puntos)
    const listItems = {
        '#hero .event-list li:nth-of-type(1)': translations[lang].wedding,
        '#hero .event-list li:nth-of-type(2)': translations[lang].sweet15,
        '#hero .event-list li:nth-of-type(3)': translations[lang].birthday,
        '#hero .event-list li:nth-of-type(4)': translations[lang].corporate
    };
    
    for (const [selector, text] of Object.entries(listItems)) {
        try {
            updateTextPreservingHTML(selector, text);
        } catch (error) {
            console.error(`Error al actualizar el elemento li ${selector}:`, error);
        }
    }
}

// Función para inicializar las traducciones
export function initTranslations() {
    // Verificar si hay una preferencia de idioma guardada
    let currentLang = localStorage.getItem('language') || 'es';
    
    // Aplicar el idioma actual al cargar la página
    updateTexts(currentLang);
    
    return currentLang;
}

// Función para cambiar idioma
export function changeLanguage(lang) {
    updateTexts(lang);
    localStorage.setItem('language', lang);
}