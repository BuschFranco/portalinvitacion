
<div>
    <div class="header-container">
        <div class="header-buttons">
            <button class="darkModeBtn" aria-label="Cambiar modo oscuro/claro">
                <i class="fa-solid fa-moon"></i>
            </button>
            <div class="language-menu">
                <button class="langMenuBtn" aria-label="Menú de idiomas">
                    <i class="fa-solid fa-bars"></i>
                </button>
                <div class="language-dropdown">
                    <button class="lang-option" data-lang="es">Español</button>
                    <button class="lang-option" data-lang="en">English</button>
                    <button class="lang-option" data-lang="pt">Português</button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .bg-black {
        background-color: rgb(250, 114, 223);
        color: rgb(147, 29, 197);
        padding: 10px;
        font-size: 20px;
        font-style: italic, bold;
    }

    .header-container {
        display: flex;
        justify-content: end;
        align-items: center;
        padding: 1rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .header-buttons {
        display: flex;
        gap: 10px;
    }

    button {
        background-color: rgba(255, 255, 255, 0.91);
        color: rgb(147, 29, 197);
        padding: 8px;
        text-align: center;        
        font-style: italic, bold;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        transition: transform 0.3s ease, background-color 0.3s ease;
    }

    button:hover {
        transform: scale(1.1);
    }

    .language-menu {
        position: relative;
    }

    .language-dropdown {
        position: absolute;
        top: 45px;
        right: 0;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        padding: 8px 0;
        min-width: 150px;
        z-index: 100;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
    }

    .language-dropdown.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .lang-option {
        display: block;
        width: 100%;
        text-align: left;
        padding: 8px 16px;
        background: none;
        border: none;
        border-radius: 0;
        color: rgb(147, 29, 197);
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .lang-option:hover {
        background-color: rgba(250, 114, 223, 0.1);
    }

    .darkModeBtn{
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.623);
    }
    /* Animación para el botón de modo oscuro */
    .darkModeBtn i {
        transition: transform 0.5s ease;
    }

    .darkModeBtn:active i {
        transform: rotate(360deg);
    }

    .langMenuBtn{
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.623);
    }
    /* Animación para el botón de menú */
    .langMenuBtn i {
        transition: transform 0.3s ease;
    }

    .langMenuBtn.active i {
        transform: rotate(90deg);
    }
</style>

<script>

// Elementos DOM
const darkModeBtn = document.querySelector('.darkModeBtn');
const darkModeIcon = document.querySelector('.darkModeBtn i');
const langMenuBtn = document.querySelector('.langMenuBtn');
const langDropdown = document.querySelector('.language-dropdown');
const langOptions = document.querySelectorAll('.lang-option');
const html = document.documentElement;
const body = document.body;
const hero = document.querySelector('#hero');
const services = document.querySelector('#services');
const news = document.querySelector('#news');
const benefits = document.querySelector('#benefits');
const headerTitle = document.querySelector('#header-title');

// Elementos que necesitan modo oscuro
const darkModeElements = [html];

// Verificar si hay una preferencia de modo oscuro guardada
const isDarkMode = localStorage.getItem('darkMode') === 'true';
if (isDarkMode) {
    darkModeIcon.classList.remove('fa-moon');
    darkModeIcon.classList.add('fa-sun');
    document.documentElement.classList.add('dark');
}

// Traducciones
const translations = {
    es: {
        headerTitle: "Nos encargamos de tu invitación",
        heroSubtitle: "Creamos invitaciones digitales únicas para bodas, quinceañeras, fiestas y eventos especiales",
        portfolioBtn: "Ver Portafolio",
        quoteBtn: "Solicitar Cotización",
        whyDigitalTitle: "¿Por qué elegir invitaciones digitales?",
        whyDigitalText1: "Las invitaciones digitales son la forma moderna, elegante y ecológica de invitar a tus seres queridos a eventos especiales. Personalizamos cada diseño según tu estilo y temática.",
        whyDigitalText2: "Ofrecemos diseños únicos, animaciones personalizadas y la posibilidad de incluir música, videos y confirmación de asistencia en tiempo real.",
        specializedTitle: "Especializados en eventos:",
        wedding: "Bodas y Matrimonios",
        sweet15: "Quinceañeras",
        birthday: "Fiestas de Cumpleaños",
        corporate: "Eventos Corporativos",
        servicesTitle: "Nuestros Servicios",
        servicesSubtitle: "Ofrecemos servicios completos de diseño de invitaciones digitales para hacer tu evento memorable",
        servicesText: "Celebridades, influencers y organizadores de eventos confían en nuestros diseños para crear invitaciones memorables y únicas.",
        weddingInvTitle: "Invitaciones de Boda",
        weddingInvText: "Diseños elegantes y románticos para el día más especial. Incluimos animaciones, música y confirmación de asistencia digital.",
        viewExamples: "Ver ejemplos →",
        sweet15InvTitle: "Quinceañeras",
        sweet15InvText: "Celebra los 15 años con invitaciones mágicas y llenas de color. Diseños únicos que reflejan la personalidad de la quinceañera.",
        benefitsTitle: "Beneficios de las Invitaciones Digitales",
        benefitsSubtitle: "Descubre por qué las invitaciones digitales son la mejor opción para tus eventos especiales",
        ecofriendlyTitle: "Ecológico y Sostenible",
        ecofriendlyText: "Sin papel, sin desperdicio. Contribuye al cuidado del medio ambiente con invitaciones 100% digitales.",
        instantDeliveryTitle: "Entrega Instantánea",
        instantDeliveryText: "Envía tus invitaciones al instante por WhatsApp, email o redes sociales. Sin esperas ni retrasos.",
        newsTitle: "Novedades",
        newsSubtitle: "Últimas tendencias y consejos - Mantente al día con las mejores prácticas en diseño de invitaciones digitales",
        article1Title: "¿Cómo elegir el diseño perfecto?",
        article1Text: "El 85% de los invitados forman su primera impresión del evento a través de la invitación. Descubre cómo crear diseños que reflejen la personalidad de tu celebración.",
        recentArticle: "Artículo reciente",
        readMore: "Leer más →",
        article2Title: "Tendencias en invitaciones 2024",
        article2Text: "Descubre las últimas tendencias en invitaciones digitales para 2024. Desde elementos interactivos hasta experiencias personalizadas, mantente a la vanguardia con diseños innovadores."
    },
    en: {
        headerTitle: "We take care of your invitation",
        heroSubtitle: "We create unique digital invitations for weddings, sweet fifteens, parties and special events",
        portfolioBtn: "View Portfolio",
        quoteBtn: "Request Quote",
        whyDigitalTitle: "Why choose digital invitations?",
        whyDigitalText1: "Digital invitations are the modern, elegant and eco-friendly way to invite your loved ones to special events. We customize each design according to your style and theme.",
        whyDigitalText2: "We offer unique designs, custom animations and the ability to include music, videos and real-time attendance confirmation.",
        specializedTitle: "Specialized in events:",
        wedding: "Weddings and Marriages",
        sweet15: "Sweet Fifteens",
        birthday: "Birthday Parties",
        corporate: "Corporate Events",
        servicesTitle: "Our Services",
        servicesSubtitle: "We offer complete digital invitation design services to make your event memorable",
        servicesText: "Celebrities, influencers and event organizers trust our designs to create memorable and unique invitations.",
        weddingInvTitle: "Wedding Invitations",
        weddingInvText: "Elegant and romantic designs for the most special day. We include animations, music and digital attendance confirmation.",
        viewExamples: "View examples →",
        sweet15InvTitle: "Sweet Fifteens",
        sweet15InvText: "Celebrate the 15th birthday with magical and colorful invitations. Unique designs that reflect the quinceañera's personality.",
        benefitsTitle: "Benefits of Digital Invitations",
        benefitsSubtitle: "Discover why digital invitations are the best option for your special events",
        ecofriendlyTitle: "Eco-friendly and Sustainable",
        ecofriendlyText: "No paper, no waste. Contribute to environmental care with 100% digital invitations.",
        instantDeliveryTitle: "Instant Delivery",
        instantDeliveryText: "Send your invitations instantly via WhatsApp, email or social media. No waiting or delays.",
        newsTitle: "News",
        newsSubtitle: "Latest trends and tips - Stay up to date with the best practices in digital invitation design",
        article1Title: "How to choose the perfect design?",
        article1Text: "85% of guests form their first impression of the event through the invitation. Discover how to create designs that reflect your celebration's personality.",
        recentArticle: "Recent article",
        readMore: "Read more →",
        article2Title: "Invitation trends 2024",
        article2Text: "Discover the latest trends in digital invitations for 2024. From interactive elements to personalized experiences, stay ahead with innovative designs."
    },
    pt: {
        headerTitle: "Cuidamos do seu convite",
        heroSubtitle: "Criamos convites digitais únicos para casamentos, debutantes, festas e eventos especiais",
        portfolioBtn: "Ver Portfólio",
        quoteBtn: "Solicitar Orçamento",
        whyDigitalTitle: "Por que escolher convites digitais?",
        whyDigitalText1: "Os convites digitais são a forma moderna, elegante e ecológica de convidar seus entes queridos para eventos especiais. Personalizamos cada design de acordo com seu estilo e temática.",
        whyDigitalText2: "Oferecemos designs únicos, animações personalizadas e a possibilidade de incluir música, vídeos e confirmação de presença em tempo real.",
        specializedTitle: "Especializados em eventos:",
        wedding: "Casamentos e Matrimônios",
        sweet15: "Debutantes",
        birthday: "Festas de Aniversário",
        corporate: "Eventos Corporativos",
        servicesTitle: "Nossos Serviços",
        servicesSubtitle: "Oferecemos serviços completos de design de convites digitais para tornar seu evento memorável",
        servicesText: "Celebridades, influenciadores e organizadores de eventos confiam em nossos designs para criar convites memoráveis e únicos.",
        weddingInvTitle: "Convites de Casamento",
        weddingInvText: "Designs elegantes e românticos para o dia mais especial. Incluímos animações, música e confirmação de presença digital.",
        viewExamples: "Ver exemplos →",
        sweet15InvTitle: "Debutantes",
        sweet15InvText: "Celebre os 15 anos com convites mágicos e cheios de cor. Designs únicos que refletem a personalidade da debutante.",
        benefitsTitle: "Benefícios dos Convites Digitais",
        benefitsSubtitle: "Descubra por que os convites digitais são a melhor opção para seus eventos especiais",
        ecofriendlyTitle: "Ecológico e Sustentável",
        ecofriendlyText: "Sem papel, sem desperdício. Contribua para o cuidado do meio ambiente com convites 100% digitais.",
        instantDeliveryTitle: "Entrega Instantânea",
        instantDeliveryText: "Envie seus convites instantaneamente pelo WhatsApp, email ou redes sociais. Sem esperas ou atrasos.",
        newsTitle: "Novidades",
        newsSubtitle: "Últimas tendências e dicas - Mantenha-se atualizado com as melhores práticas em design de convites digitais",
        article1Title: "Como escolher o design perfeito?",
        article1Text: "85% dos convidados formam sua primeira impressão do evento através do convite. Descubra como criar designs que reflitam a personalidade da sua celebração.",
        recentArticle: "Artigo recente",
        readMore: "Ler mais →",
        article2Title: "Tendências em convites 2024",
        article2Text: "Descubra as últimas tendências em convites digitais para 2024. Desde elementos interativos até experiências personalizadas, mantenha-se na vanguarda com designs inovadores."
    }
};

// Función para actualizar texto preservando HTML
function updateTextPreservingHTML(element, newText) {
    if (!element) return;
    
    // Si el elemento tiene hijos (como spans), preservar la estructura
    const children = element.children;
    if (children.length > 0) {
        // Buscar el nodo de texto que viene después del span
        const textNodes = Array.from(element.childNodes).filter(node => node.nodeType === Node.TEXT_NODE);
        
        // Limpiar todos los nodos de texto existentes
        textNodes.forEach(node => node.remove());
        
        // Agregar el nuevo texto después del span (punto)
        element.appendChild(document.createTextNode(newText));
    } else {
        // Si no tiene hijos, actualizar normalmente
        element.textContent = newText;
    }
}

// Función para actualizar textos según el idioma
function updateTexts(lang) {
    // Actualizar el título del encabezado
    if (headerTitle) headerTitle.textContent = translations[lang].headerTitle;
    
    // Actualizar otros textos en la página
    const elements = {
        // Hero section
        '#hero .text-xl.md\\:text-2xl': translations[lang].heroSubtitle,
        '#hero .bg-purple-600': translations[lang].portfolioBtn,
        '#hero .border-2.border-purple-600': translations[lang].quoteBtn,
        '#hero h2.text-3xl': translations[lang].whyDigitalTitle,
        '#hero p.text-gray-600:nth-of-type(1)': translations[lang].whyDigitalText1,
        '#hero p.text-gray-600:nth-of-type(2)': translations[lang].whyDigitalText2,
        '#hero h3.text-xl': translations[lang].specializedTitle,
        
        // Services section
        '#services h2.text-3xl': translations[lang].servicesTitle,
        '#services p.text-xl:nth-of-type(1)': translations[lang].servicesSubtitle,
        '#services p.text-xl:nth-of-type(2)': translations[lang].servicesText,
        '#services h3.text-xl:nth-of-type(1)': translations[lang].weddingInvTitle,
        '#services .max-w-sm:nth-of-type(1) p': translations[lang].weddingInvText,
        '#services .max-w-sm:nth-of-type(1) button': translations[lang].viewExamples,
        '#services h3.text-xl:nth-of-type(2)': translations[lang].sweet15InvTitle,
        '#services .max-w-sm:nth-of-type(2) p': translations[lang].sweet15InvText,
        '#services .max-w-sm:nth-of-type(2) button': translations[lang].viewExamples,
        
        // Benefits section
        '#benefits h2.text-3xl': translations[lang].benefitsTitle,
        '#benefits p.text-xl': translations[lang].benefitsSubtitle,
        '#benefits h3.text-lg:nth-of-type(1)': translations[lang].ecofriendlyTitle,
        '#benefits .bg-white:nth-of-type(1) p': translations[lang].ecofriendlyText,
        '#benefits h3.text-lg:nth-of-type(2)': translations[lang].instantDeliveryTitle,
        '#benefits .bg-white:nth-of-type(2) p': translations[lang].instantDeliveryText,
        
        // News section
        '#news h2.text-3xl': translations[lang].newsTitle,
        '#news p.text-xl': translations[lang].newsSubtitle,
        '#news h3.text-xl:nth-of-type(1)': translations[lang].article1Title,
        '#news article:nth-of-type(1) p.text-gray-600': translations[lang].article1Text,
        '#news article:nth-of-type(1) span.text-xs': translations[lang].recentArticle,
        '#news article:nth-of-type(1) button': translations[lang].readMore,
        '#news h3.text-xl:nth-of-type(2)': translations[lang].article2Title,
        '#news article:nth-of-type(2) p.text-gray-600': translations[lang].article2Text,
        '#news article:nth-of-type(2) span.text-xs': translations[lang].recentArticle,
        '#news article:nth-of-type(2) button': translations[lang].readMore
    };
    
    // Actualizar cada elemento si existe
    for (const [selector, text] of Object.entries(elements)) {
        try {
            const elements = document.querySelectorAll(selector);
            if (elements.length === 0) {
                console.warn(`No se encontraron elementos para el selector: ${selector}`);
            }
            elements.forEach(element => {
                if (element) element.textContent = text;
            });
        } catch (error) {
            console.error(`Error al actualizar el selector ${selector}:`, error);
        }
    }
    
    // Actualizar elementos de lista preservando los spans
    const listItems = [
        { selector: '#hero li:nth-of-type(1)', text: translations[lang].wedding },
        { selector: '#hero li:nth-of-type(2)', text: translations[lang].sweet15 },
        { selector: '#hero li:nth-of-type(3)', text: translations[lang].birthday },
        { selector: '#hero li:nth-of-type(4)', text: translations[lang].corporate }
    ];
    
    listItems.forEach(({ selector, text }) => {
        const element = document.querySelector(selector);
        if (element) {
            updateTextPreservingHTML(element, text);
        }
    });
}

// Función para cambiar idioma
function changeLanguage(lang) {
    updateTexts(lang);
    localStorage.setItem('language', lang);
}

// Inicializar traducciones
let currentLang = localStorage.getItem('language') || 'es';
updateTexts(currentLang);

// Evento para cambiar el modo oscuro
darkModeBtn.addEventListener('click', () => {
    // Cambiar el icono
    darkModeIcon.classList.toggle('fa-moon');
    darkModeIcon.classList.toggle('fa-sun');
    
    // Aplicar modo oscuro directamente al elemento html
    document.documentElement.classList.toggle('dark');
    
    // Forzar repintado para asegurar que los estilos se apliquen
    document.body.style.display = 'none';
    document.body.offsetHeight; // Forzar repintado
    document.body.style.display = '';
    
    // Guardar preferencia
    const isDark = darkModeIcon.classList.contains('fa-sun');
    localStorage.setItem('darkMode', isDark);
});

// Evento para mostrar/ocultar el menú de idiomas
langMenuBtn.addEventListener('click', () => {
    langDropdown.classList.toggle('show');
    langMenuBtn.classList.toggle('active');
});

// Cerrar el menú de idiomas al hacer clic fuera de él
document.addEventListener('click', (e) => {
    if (!langMenuBtn.contains(e.target) && !langDropdown.contains(e.target)) {
        langDropdown.classList.remove('show');
        langMenuBtn.classList.remove('active');
    }
});

// Eventos para cambiar el idioma
langOptions.forEach(option => {
    option.addEventListener('click', () => {
        const lang = option.dataset.lang;
        currentLang = lang;
        changeLanguage(lang);
        langDropdown.classList.remove('show');
        langMenuBtn.classList.remove('active');
    });
});
</script>